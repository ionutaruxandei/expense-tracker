	<!DOCTYPE html>
	<html>
		<head>
			<title>Page Title</title>
			<style type="text/css">
				#selects {
					text-align:center
				}
				#actionButtons {
					text-align:center
				}
			</style>
			</head>
		<body ng-app="asd">
		
		
			<header></header>
			<div id="selects" ng-controller="getOptions">
				<p>Product Name:</p>
			<select
	  			name="name"
	  			ng-model="productNamesOut">
	  			<option value="">Please Select</option>
	  			<option ng-repeat="option in data.productNames track by $index" value="{{option}}">{{option}}</option>
			</select>
			<tt>{{data.names | json}}</tt><br/>
				<p>Category Name:</p>
				<select
						name="category"
						ng-model="categoriesOut">
					<option value="">Please Select</option>
					<option ng-repeat="option in data.categoryNames track by $index" value="{{option}}">{{option}}</option>
				</select>
				<tt>{{data.names | json}}</tt><br/>
			<p>Unit Price:</p>
			<select
	  			ng-model="string"
	  			name="unitPrice"
	  			ng-model="unitPriceSelectOut">
	  			<option value="">Please Select</option>
	  			<option ng-repeat="option in data.unitPrice track by $index" value="{{option}}">{{option}}</option>
			</select>
			</div>
			<br></br>
			<div id="actionButtons"><button id="submit" type="button" onclick="submitData(this)">Submit</button></div>
			<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js"></script>
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
			<script>
			var app = angular.module('asd', []);
			app.controller("getOptions", ['$scope', '$http', function($scope, $http) {
				$scope.data = {};
				$scope.nameSelect = [];
				$scope.categorySelect = [];
				$scope.unitPriceSelect = [];

				var getOptions = function() {
					$http({
						method: 'get',
						url: '/options'
					}).then(function successCallback(response){
						// $scope.data = response.data;
						$scope.data.productNames = response.data.map(function(prod){
							return prod.name;
						});
						$scope.data.categoryNames = response.data.map(function(prod){
							return prod.category;
						});
						console.log("categories: ", $scope.data.categoryNames);
						$scope.data.unitPrice = response.data.map(function(prod){
							return prod.unitPrice;
						})
					}, function errorCallback(response){
						console.log("an error occurred");
					});
				};
				getOptions();
			}]);

			var submitData = function() {
				var newUrl = "/searchResults";
				if(document.getElementsByName('name')[0].value != ""){
					newUrl = newUrl.concat("?name=" + document.getElementsByName('name')[0].value);
				}
				if(document.getElementsByName('unitPrice')[0].value != ""){
					newUrl = newUrl.concat("?unitPrice=" + document.getElementsByName('unitPrice')[0].value);
				}
				if(document.getElementsByName('category')[0].value != ""){
					newUrl = newUrl.concat("?category=" + document.getElementsByName('category')[0].value);
				}
					window.location = newUrl;
				}
			</script>
			<script src="./directives/header.js"></script>



		</body>

	</html>